# Template config for running on a private dataset (feature-level).
# Replace paths and dimensions according to your extracted features.

seed: 0

data:
  root: data/your_dataset_here  # use a relative path in your own repo
  train_split: train
  val_split: val
  test_splits: [test_internal, test_externalA, test_externalB]

model:
  d_ct_token: 512
  d_wsi_token: 1024
  d_ct_global: 512
  d_wsi_global: 1024
  q_ct_dim: 8
  q_wsi_dim: 6
  d_model: 256
  d_delta: 128
  n_layers: 2
  n_heads: 4
  dropout: 0.1

train:
  batch_size: 4
  num_workers: 4
  epochs: 50
  lr: 0.0001
  weight_decay: 0.01
  amp: true
  grad_clip_norm: 1.0
  pos_weight: null  # recommended: compute from train split only

loss:
  beta_low_fpr: 0.05
  ot_eps: 0.05
  ot_iters: 30
  weights:
    bce: 1.0
    low_fpr: 1.0
    ot: 0.1
    mmd: 0.1
    gate_entropy: 0.001
    gate_balance: 0.001
  coteach:
    enable: true
    noise_rate: 0.2
    warmup_epochs: 10
    mismatch_gamma: 1.0

output:
  dir: outputs/run_private
